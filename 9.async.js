(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"+px+":function(e,t,a){"use strict";var n=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var o=l(a("CtXQ")),d=l(a("lSNA")),r=l(a("RIqP")),i=l(a("lwsE")),u=l(a("W8MJ")),s=l(a("a1gu")),c=l(a("Nsbk")),f=l(a("7W2i"));a("+BJd");var p=l(a("mr32")),h=n(a("q1tI")),m=l(a("TSYQ")),v=l(a("E3de")),g=p.default.CheckableTag,y=function(e){var t=e.children,a=e.checked,n=e.onChange,l=e.value;return h.default.createElement(g,{checked:a,key:l,onChange:function(e){return n(l,e)}},t)};y.isTagSelectOption=!0;var E=function(e){function t(e){var a;return(0,i.default)(this,t),a=(0,s.default)(this,(0,c.default)(t).call(this,e)),a.onChange=function(e){var t=a.props.onChange;"value"in a.props||a.setState({value:e}),t&&t(e)},a.onSelectAll=function(e){var t=[];e&&(t=a.getAllTags()),a.onChange(t)},a.handleTagChange=function(e,t){var n=a.state.value,l=(0,r.default)(n),o=l.indexOf(e);t&&-1===o?l.push(e):!t&&o>-1&&l.splice(o,1),a.onChange(l)},a.handleExpand=function(){var e=a.state.expand;a.setState({expand:!e})},a.isTagSelectOption=function(e){return e&&e.type&&(e.type.isTagSelectOption||"TagSelectOption"===e.type.displayName)},a.state={expand:!1,value:e.value||e.defaultValue||[]},a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"getAllTags",value:function(){var e=this,t=this.props.children;t=h.default.Children.toArray(t);var a=t.filter(function(t){return e.isTagSelectOption(t)}).map(function(e){return e.props.value});return a||[]}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.value,l=a.expand,r=this.props,i=r.children,u=r.hideCheckAll,s=r.className,c=r.style,f=r.expandable,p=this.getAllTags().length===n.length,y=(0,m.default)(v.default.tagSelect,s,(e={},(0,d.default)(e,v.default.hasExpandTag,f),(0,d.default)(e,v.default.expanded,l),e));return h.default.createElement("div",{className:y,style:c},u?null:h.default.createElement(g,{checked:p,key:"tag-select-__all__",onChange:this.onSelectAll},"All"),n&&h.default.Children.map(i,function(e){return t.isTagSelectOption(e)?h.default.cloneElement(e,{key:"tag-select-".concat(e.props.value),value:e.props.value,checked:n.indexOf(e.props.value)>-1,onChange:t.handleTagChange}):e}),f&&h.default.createElement("a",{className:v.default.trigger,onClick:this.handleExpand},l?"Up":"Down"," ",h.default.createElement(o.default,{type:l?"up":"down"})))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e&&e.value?{value:e.value}:null}}]),t}(h.Component);E.defaultProps={hideCheckAll:!1},E.Option=y;var w=E;t.default=w},ByKV:function(e,t,a){e.exports={standardFormRow:"antd-pro-components-standard-form-row-index-standardFormRow",label:"antd-pro-components-standard-form-row-index-label",content:"antd-pro-components-standard-form-row-index-content",standardFormRowLast:"antd-pro-components-standard-form-row-index-standardFormRowLast",standardFormRowBlock:"antd-pro-components-standard-form-row-index-standardFormRowBlock",standardFormRowGrid:"antd-pro-components-standard-form-row-index-standardFormRowGrid"}},E3de:function(e,t,a){e.exports={tagSelect:"antd-pro-components-tag-select-index-tagSelect",expanded:"antd-pro-components-tag-select-index-expanded",trigger:"antd-pro-components-tag-select-index-trigger",hasExpandTag:"antd-pro-components-tag-select-index-hasExpandTag"}},Hf7q:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var o=n(a("2/Rp"));a("Mwp2");var d=n(a("VXEj"));a("sRBo");var r=n(a("kaz8"));a("qVdP");var i=n(a("jsC+"));a("lUTK");var u=n(a("BvKs"));a("5Dmo");var s=n(a("3S7+")),c=n(a("RIqP"));a("IzEo");var f=n(a("bx4M"));a("Pwec");var p=n(a("CtXQ")),h=n(a("lwsE")),m=n(a("W8MJ")),v=n(a("a1gu")),g=n(a("Nsbk")),y=n(a("7W2i")),E=n(a("MVZn"));a("y8nQ");var w,k,x,C=n(a("Vl3Y")),b=l(a("q1tI")),S=a("MuoO"),N=n(a("xNuS")),R=n(a("SaYD")),T=n(a("+px+")),I=n(a("wd/R")),A=n(a("P4Iy")),F=C.default.Item;function M(e){var t=(0,I.default)(e.dueDate);if(t.isValid()){if(e.done)return"#1890FF";if(t.isBefore((0,I.default)().add(1,"days")))return"red";if(t.isBefore((0,I.default)().add(10,"days")))return"yellow"}return"rgba(0, 0, 0, 0.45)"}var L=(w=(0,S.connect)(function(e){var t=e.todos,a=e.loading;return{todos:t,loading:a.models.todos}}),k=C.default.create({onValuesChange:function(e,t,a){var n=e.dispatch,l={done:!1,archived:!1};a.status.length>0&&["done","archived"].map(function(e){a.status.includes(e)?l[e]=!0:delete l[e]}),console.log(l),n({type:"todos/fetch",payload:(0,E.default)({},l)})}}),w(x=k(x=function(e){function t(){var e,a;(0,h.default)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return a=(0,v.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(l))),a.handleCheckboxChange=function(e){var t=a.props,n=t.dispatch,l=t.todos,o=l.filters;n({type:"todos/toggle",payload:e,callback:function(){n({type:"todos/fetch",payload:o})}})},a.handleArchiveClick=function(e){var t=a.props,n=t.dispatch,l=t.todos,o=l.filters;n({type:"todos/archive",payload:e,callback:function(){n({type:"todos/fetch",payload:o})}})},a}return(0,y.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.todos,l=n.filters;this.reqRef=requestAnimationFrame(function(){a({type:"todos/fetch",payload:l}),e.timeoutId=setTimeout(function(){e.setState({loading:!1})},600)})}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"todos/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"remove",value:function(e){var t=this.props.dispatch;t({type:"todos/remove",payload:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.todos,n=t.loading,l=t.form,h=l.getFieldDecorator,m=a.list,v=function(e){var t=e.todo;return b.default.createElement("div",{className:A.default.cardInfo},b.default.createElement("div",{style:{color:M(t)}},b.default.createElement(p.default,{type:"calendar",style:{color:M(t)}}),b.default.createElement("p",null,(0,I.default)(t.dueDate).isValid()?(0,I.default)(t.dueDate).fromNow():"No due date")))};return b.default.createElement("div",{className:A.default.todos},b.default.createElement(f.default,{bordered:!1,style:{marginBottom:20}},b.default.createElement(C.default,{layout:"inline"},b.default.createElement(R.default,{title:b.default.createElement(p.default,{type:"filter"}),block:!0},b.default.createElement(F,null,h("status")(b.default.createElement(T.default,{hideCheckAll:!0},b.default.createElement(T.default.Option,{value:"done"},"Done"),b.default.createElement(T.default.Option,{value:"archived"},"Archived"))))))),b.default.createElement(d.default,{rowKey:"id",loading:n,grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:[""].concat((0,c.default)(m)),renderItem:function(t){return t?b.default.createElement(d.default.Item,{key:t.id},b.default.createElement(f.default,{hoverable:!0,className:A.default.card,actions:[b.default.createElement(s.default,{title:"Edit"},b.default.createElement(p.default,{type:"edit"})),b.default.createElement(s.default,{title:"Delete",onClick:function(){return e.remove(t.id)}},b.default.createElement(p.default,{type:"delete",style:{color:"#E60000"}})),b.default.createElement(i.default,{overlay:b.default.createElement(u.default,null,b.default.createElement(u.default.Item,{key:"archive",onClick:function(){return e.handleArchiveClick(t.id)}},b.default.createElement("span",null,t.archived?"Unarchive":"Archive")))},b.default.createElement(p.default,{type:"ellipsis"}))]},b.default.createElement(f.default.Meta,{avatar:b.default.createElement(r.default,{className:A.default.checkbox,checked:t.done,onChange:function(){return e.handleCheckboxChange(t.id)}}),title:b.default.createElement("a",null,t.title),description:b.default.createElement(N.default,{className:A.default.item,lines:2},t.description)}),b.default.createElement("div",{className:A.default.cardItemContent},b.default.createElement(v,{todo:t})))):b.default.createElement(d.default.Item,null,b.default.createElement(o.default,{type:"dashed",className:A.default.newButton},b.default.createElement(p.default,{type:"plus"})," New to-do"))}}))}}]),t}(b.Component))||x)||x),B=L;t.default=B},P4Iy:function(e,t,a){e.exports={todos:"antd-pro-pages-workspace-todos-todos",card:"antd-pro-pages-workspace-todos-card",item:"antd-pro-pages-workspace-todos-item",cardInfo:"antd-pro-pages-workspace-todos-cardInfo",newButton:"antd-pro-pages-workspace-todos-newButton",checkbox:"antd-pro-pages-workspace-todos-checkbox",cardDescription:"antd-pro-pages-workspace-todos-cardDescription",pageHeaderContent:"antd-pro-pages-workspace-todos-pageHeaderContent",contentLink:"antd-pro-pages-workspace-todos-contentLink",extraImg:"antd-pro-pages-workspace-todos-extraImg"}},SaYD:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("pVnL")),o=n(a("lSNA")),d=n(a("QILm")),r=n(a("q1tI")),i=n(a("TSYQ")),u=n(a("ByKV")),s=function(e){var t,a=e.title,n=e.children,s=e.last,c=e.block,f=e.grid,p=(0,d.default)(e,["title","children","last","block","grid"]),h=(0,i.default)(u.default.standardFormRow,(t={},(0,o.default)(t,u.default.standardFormRowBlock,c),(0,o.default)(t,u.default.standardFormRowLast,s),(0,o.default)(t,u.default.standardFormRowGrid,f),t));return r.default.createElement("div",(0,l.default)({className:h},p),a&&r.default.createElement("div",{className:u.default.label},r.default.createElement("span",null,a)),r.default.createElement("div",{className:u.default.content},n))},c=s;t.default=c},mcBY:function(e,t,a){e.exports={ellipsis:"antd-pro-components-ellipsis-index-ellipsis",lines:"antd-pro-components-ellipsis-index-lines",shadow:"antd-pro-components-ellipsis-index-shadow",lineClamp:"antd-pro-components-ellipsis-index-lineClamp"}},xNuS:function(e,t,a){"use strict";var n=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.cutStrByFullLength=t.getStrFullLength=void 0;var o=l(a("pVnL")),d=l(a("lSNA")),r=l(a("lwsE")),i=l(a("W8MJ")),u=l(a("a1gu")),s=l(a("Nsbk")),c=l(a("7W2i"));a("5Dmo");var f=l(a("3S7+")),p=l(a("QILm")),h=n(a("q1tI")),m=l(a("TSYQ")),v=l(a("mcBY")),g=void 0!==document.body.style.webkitLineClamp,y={overflowWrap:"break-word",wordWrap:"break-word"},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("").reduce(function(e,t){var a=t.charCodeAt(0);return a>=0&&a<=128?e+1:e+2},0)};t.getStrFullLength=E;var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=0;return e.split("").reduce(function(e,n){var l=n.charCodeAt(0);return a+=l>=0&&l<=128?1:2,a<=t?e+n:e},"")};t.cutStrByFullLength=w;var k=function(e){var t=e.text,a=e.length,n=e.tooltip,l=e.fullWidthRecognition,o=(0,p.default)(e,["text","length","tooltip","fullWidthRecognition"]);if("string"!==typeof t)throw new Error("Ellipsis children must be string.");var d=l?E(t):t.length;if(d<=a||a<0)return h.default.createElement("span",o,t);var r,i="...";return r=a-i.length<=0?"":l?w(t,a):t.slice(0,a),n?h.default.createElement(f.default,{overlayStyle:y,title:t},h.default.createElement("span",null,r,i)):h.default.createElement("span",o,r,i)},x=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),a.state={text:"",targetCount:0},a.computeLine=function(){var e=a.props.lines;if(e&&!g){var t=a.shadowChildren.innerText,n=parseInt(getComputedStyle(a.root).lineHeight,10),l=e*n;a.content.style.height="".concat(l,"px");var o=a.shadowChildren.offsetHeight,d=a.shadow.firstChild;if(o<=l)return void a.setState({text:t,targetCount:t.length});var r=t.length,i=Math.ceil(r/2),u=a.bisection(l,i,0,r,t,d);a.setState({text:t,targetCount:u})}},a.bisection=function(e,t,n,l,o,d){var r="...",i=t,u=l,s=n;d.innerHTML=o.substring(0,i)+r;var c=d.offsetHeight;return c<=e?(d.innerHTML=o.substring(0,i+1)+r,c=d.offsetHeight,c>e||i===s?i:(s=i,i=u-s===1?1+s:Math.floor((u-s)/2)+s,a.bisection(e,i,s,u,o,d))):i-1<0?i:(d.innerHTML=o.substring(0,i-1)+r,c=d.offsetHeight,c<=e?i-1:(u=i,i=Math.floor((u-s)/2)+s,a.bisection(e,i,s,u,o,d)))},a.handleRoot=function(e){a.root=e},a.handleContent=function(e){a.content=e},a.handleNode=function(e){a.node=e},a.handleShadow=function(e){a.shadow=e},a.handleShadowChildren=function(e){a.shadowChildren=e},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.node&&this.computeLine()}},{key:"componentDidUpdate",value:function(e){var t=this.props.lines;t!==e.lines&&this.computeLine()}},{key:"render",value:function(){var e,t=this.state,a=t.text,n=t.targetCount,l=this.props,r=l.children,i=l.lines,u=l.length,s=l.className,c=l.tooltip,E=l.fullWidthRecognition,w=(0,p.default)(l,["children","lines","length","className","tooltip","fullWidthRecognition"]),x=(0,m.default)(v.default.ellipsis,s,(e={},(0,d.default)(e,v.default.lines,i&&!g),(0,d.default)(e,v.default.lineClamp,i&&g),e));if(!i&&!u)return h.default.createElement("span",(0,o.default)({className:x},w),r);if(!i)return h.default.createElement(k,(0,o.default)({className:x,length:u,text:r||"",tooltip:c,fullWidthRecognition:E},w));var C="antd-pro-ellipsis-".concat("".concat((new Date).getTime()).concat(Math.floor(100*Math.random())));if(g){var b="#".concat(C,"{-webkit-line-clamp:").concat(i,";-webkit-box-orient: vertical;}");return h.default.createElement("div",(0,o.default)({id:C,className:x},w),h.default.createElement("style",null,b),c?h.default.createElement(f.default,{overlayStyle:y,title:r},r):r)}var S=h.default.createElement("span",{ref:this.handleNode},n>0&&a.substring(0,n),n>0&&n<a.length&&"...");return h.default.createElement("div",(0,o.default)({},w,{ref:this.handleRoot,className:x}),h.default.createElement("div",{ref:this.handleContent},c?h.default.createElement(f.default,{overlayStyle:y,title:a},S):S,h.default.createElement("div",{className:v.default.shadow,ref:this.handleShadowChildren},r),h.default.createElement("div",{className:v.default.shadow,ref:this.handleShadow},h.default.createElement("span",null,a))))}}]),t}(h.Component);t.default=x}}]);